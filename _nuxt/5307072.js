(window.webpackJsonp=window.webpackJsonp||[]).push([[14,16],{1361:function(t,r,e){var content=e(1383);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(112).default)("301212a4",content,!0,{sourceMap:!1})},1369:function(t,r,e){"use strict";e.r(r);var n={props:{library:Object,visible:Boolean},methods:{close:function(){this.$emit("onClose")}}},o=(e(1382),e(68)),component=Object(o.a)(n,(function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("a-modal",{attrs:{visible:t.visible,cancelText:t.$t("cancel"),okText:t.$t("ok")},on:{ok:function(r){return t.close()},cancel:function(r){return t.close()}}},[e("div",[null!=t.library?e("h3",[t._v(t._s(t.library.name))]):t._e(),t._v(" "),e("a-tabs",[e("a-tab-pane",{key:"1",attrs:{tab:t.$t("details")}},[t.visible?e("table",[e("tbody",[e("tr",[e("td",[t._v(t._s(t.$t("name_of_library")))]),t._v(" "),e("td",[t._v(t._s(t.library.name))])]),t._v(" "),e("tr",[e("td",[t._v(t._s(t.$t("country")))]),t._v(" "),e("td",[t._v(t._s(t.library.country))])]),t._v(" "),e("tr",[e("td",[t._v(t._s(t.$t("type_of_library")))]),t._v(" "),e("td",[t._v(t._s(t.library.type))])]),t._v(" "),e("tr",[e("td",[t._v(t._s(t.$t("other_library_type")))]),t._v(" "),e("td",[t._v(t._s(t.library.otherLibraryType))])]),t._v(" "),e("tr",[e("td",[t._v(t._s(t.$t("street_address")))]),t._v(" "),e("td",[t._v(t._s(t.library.streetAddress))])]),t._v(" "),e("tr",[e("td",[t._v(t._s(t.$t("name_of_community_or_town")))]),t._v(" "),e("td",[t._v(t._s(t.library.communityOrTown))])]),t._v(" "),e("tr",[e("td",[t._v(t._s(t.$t("library_contact_name")))]),t._v(" "),e("td",[t._v(t._s(t.library.contactName))])]),t._v(" "),e("tr",[e("td",[t._v("\n                "+t._s(t.$t("email_address_of_library_contact"))+"\n              ")]),t._v(" "),e("td",[t._v(t._s(t.library.contactEmail))])])])]):t._e()]),t._v(" "),e("a-tab-pane",{key:"2",attrs:{tab:t.$t("images")}},[e("span",[t._v(t._s(t.$t("no_data")))])]),t._v(" "),e("a-tab-pane",{key:"3",attrs:{tab:t.$t("activity_logs")}},[e("span",[t._v(t._s(t.$t("no_data")))])])],1)],1)])}),[],!1,null,"4f5e8fdd",null);r.default=component.exports},1380:function(t,r,e){"use strict";e.r(r);e(51),e(232),e(57),e(37),e(113);var n={components:{"library-modal":e(1369).default},data:function(){return{mapCenter:[5.55602,-.1969],selectedLibrary:null,libraryDetailModalVisible:!1,tileProviders:[{name:"Satellite",visible:!0,attribution:'&copy; <a target="_blank" href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"},{name:"Topology",visible:!1,url:"https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",attribution:'Map data: &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}]}},computed:{libraryTypes:function(){return this.$store.state.libraries.types},markers:function(){return this.$store.state.libraries.libraries},libraries:function(){var t=this,r=this.$store.state.libraries.libraries;return this.searchFilter.length>0?r.filter((function(r){return r.name.toLowerCase().startsWith(t.searchFilter.toLowerCase())})):r}},methods:{markersByLibraryType:function(t){return this.markers.filter((function(r){return null!=r.coordinates&&r.type==t.name}))},markerClicked:function(marker){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.selectedLibrary=marker,this.setLibraryDetailModalVisible(t),null!=marker.coord?this.mapCenter=marker.coord:null!=marker.coordinates&&(this.mapCenter=marker.coordinates.toArray())},setLibraryDetailModalVisible:function(t){this.libraryDetailModalVisible=t},setAddLibraryModalVisible:function(t){this.addLibraryModalVisible=t}},mounted:function(){var t=this;this.$store.dispatch("libraries/loadLibraries").catch((function(r){var e="open".concat(Date.now());t.$notification.error({key:e,message:"Error loading libraries",description:r.toString(),btn:function(r){return r("a-button",{props:{type:"primary",size:"small"},on:{click:function(){t.$notification.close(e),window.open("https://cors-anywhere.herokuapp.com/","_blank")}}},"Fix It")}})}))}},o=e(68),component=Object(o.a)(n,(function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("a-layout",{staticStyle:{height:"100%"}},[e("div",{staticStyle:{height:"100%","min-width":"280px"},attrs:{id:"map-wrap"}},[e("client-only",[e("l-map",{ref:"myMap",attrs:{zoom:13,center:t.mapCenter}},[e("l-control-layers"),t._v(" "),t._l(t.tileProviders,(function(t){return e("l-tile-layer",{key:t.name,attrs:{name:t.name,visible:t.visible,url:t.url,attribution:t.attribution,"layer-type":"base"}})})),t._v(" "),t._l(t.libraryTypes,(function(r){return e("l-layer-group",{key:r.name,attrs:{name:r.name,"layer-type":"overlay"}},t._l(t.markersByLibraryType(r),(function(marker,n){return e("l-marker",{key:n,attrs:{"lat-lng":marker.coordinates.toArray()},on:{click:function(r){return t.markerClicked(marker)}}},[e("l-icon",{attrs:{"icon-url":r.markerIconUrl,"icon-size":[24,37]}}),t._v(" "),e("l-popup",[e("div",{staticStyle:{"text-align":"center"}},[e("h3",[t._v(t._s(marker.name))]),t._v(" "),e("hr"),t._v(" "),e("div",{staticStyle:{"margin-top":"8px"}},[e("a-button",{attrs:{type:"primary"},on:{click:function(r){return t.setLibraryDetailModalVisible(!0)}}},[t._v("\n                    "+t._s(t.$t("view_details"))+"\n                  ")])],1)])])],1)})),1)}))],2)],1)],1),t._v(" "),e("library-modal",{attrs:{visible:t.libraryDetailModalVisible,library:t.selectedLibrary},on:{onClose:function(r){return t.setLibraryDetailModalVisible(!1)}}})],1)}),[],!1,null,null,null);r.default=component.exports},1382:function(t,r,e){"use strict";e(1361)},1383:function(t,r,e){var n=e(111)(!1);n.push([t.i,"td[data-v-4f5e8fdd]:nth-child(2){font-weight:700}",""]),t.exports=n}}]);