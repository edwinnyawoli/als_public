(window.webpackJsonp=window.webpackJsonp||[]).push([[23,17],{1338:function(e){e.exports=JSON.parse('{"AF":"Afghanistan","AX":"Aland Islands","AL":"Albania","DZ":"Algeria","AS":"American Samoa","AD":"Andorra","AO":"Angola","AI":"Anguilla","AQ":"Antarctica","AG":"Antigua and Barbuda","AR":"Argentina","AM":"Armenia","AW":"Aruba","AU":"Australia","AT":"Austria","AZ":"Azerbaijan","BS":"Bahamas","BH":"Bahrain","BD":"Bangladesh","BB":"Barbados","BY":"Belarus","BE":"Belgium","BZ":"Belize","BJ":"Benin","BM":"Bermuda","BT":"Bhutan","BO":"Bolivia","BQ":"Bonaire, Sint Eustatius and Saba","BA":"Bosnia and Herzegovina","BW":"Botswana","BV":"Bouvet Island","BR":"Brazil","IO":"British Indian Ocean Territory","BN":"Brunei Darussalam","BG":"Bulgaria","BF":"Burkina Faso","BI":"Burundi","KH":"Cambodia","CM":"Cameroon","CA":"Canada","CV":"Cape Verde","KY":"Cayman Islands","CF":"Central African Republic","TD":"Chad","CL":"Chile","CN":"China","CX":"Christmas Island","CC":"Cocos (Keeling) Islands","CO":"Colombia","KM":"Comoros","CG":"Congo","CD":"Congo, the Democratic Republic of the","CK":"Cook Islands","CR":"Costa Rica","CI":"Cote D\'Ivoire","HR":"Croatia","CU":"Cuba","CW":"Curacao","CY":"Cyprus","CZ":"Czech Republic","DK":"Denmark","DJ":"Djibouti","DM":"Dominica","DO":"Dominican Republic","EC":"Ecuador","EG":"Egypt","SV":"El Salvador","GQ":"Equatorial Guinea","ER":"Eritrea","EE":"Estonia","ET":"Ethiopia","FK":"Falkland Islands (Malvinas)","FO":"Faroe Islands","FJ":"Fiji","FI":"Finland","FR":"France","GF":"French Guiana","PF":"French Polynesia","TF":"French Southern Territories","GA":"Gabon","GM":"Gambia","GE":"Georgia","DE":"Germany","GH":"Ghana","GI":"Gibraltar","GR":"Greece","GL":"Greenland","GD":"Grenada","GP":"Guadeloupe","GU":"Guam","GT":"Guatemala","GG":"Guernsey","GN":"Guinea","GW":"Guinea-Bissau","GY":"Guyana","HT":"Haiti","HM":"Heard Island and Mcdonald Islands","VA":"Holy See (Vatican City State)","HN":"Honduras","HK":"Hong Kong","HU":"Hungary","IS":"Iceland","IN":"India","ID":"Indonesia","IR":"Iran, Islamic Republic of","IQ":"Iraq","IE":"Ireland","IM":"Isle of Man","IL":"Israel","IT":"Italy","JM":"Jamaica","JP":"Japan","JE":"Jersey","JO":"Jordan","KZ":"Kazakhstan","KE":"Kenya","KI":"Kiribati","KP":"Korea, Democratic People\'s Republic of","KR":"Korea, Republic of","XK":"Kosovo","KW":"Kuwait","KG":"Kyrgyzstan","LA":"Lao People\'s Democratic Republic","LV":"Latvia","LB":"Lebanon","LS":"Lesotho","LR":"Liberia","LY":"Libyan Arab Jamahiriya","LI":"Liechtenstein","LT":"Lithuania","LU":"Luxembourg","MO":"Macao","MK":"Macedonia, the Former Yugoslav Republic of","MG":"Madagascar","MW":"Malawi","MY":"Malaysia","MV":"Maldives","ML":"Mali","MT":"Malta","MH":"Marshall Islands","MQ":"Martinique","MR":"Mauritania","MU":"Mauritius","YT":"Mayotte","MX":"Mexico","FM":"Micronesia, Federated States of","MD":"Moldova, Republic of","MC":"Monaco","MN":"Mongolia","ME":"Montenegro","MS":"Montserrat","MA":"Morocco","MZ":"Mozambique","MM":"Myanmar","NA":"Namibia","NR":"Nauru","NP":"Nepal","NL":"Netherlands","AN":"Netherlands Antilles","NC":"New Caledonia","NZ":"New Zealand","NI":"Nicaragua","NE":"Niger","NG":"Nigeria","NU":"Niue","NF":"Norfolk Island","MP":"Northern Mariana Islands","NO":"Norway","OM":"Oman","PK":"Pakistan","PW":"Palau","PS":"Palestinian Territory, Occupied","PA":"Panama","PG":"Papua New Guinea","PY":"Paraguay","PE":"Peru","PH":"Philippines","PN":"Pitcairn","PL":"Poland","PT":"Portugal","PR":"Puerto Rico","QA":"Qatar","RE":"Reunion","RO":"Romania","RU":"Russian Federation","RW":"Rwanda","BL":"Saint Barthelemy","SH":"Saint Helena","KN":"Saint Kitts and Nevis","LC":"Saint Lucia","MF":"Saint Martin","PM":"Saint Pierre and Miquelon","VC":"Saint Vincent and the Grenadines","WS":"Samoa","SM":"San Marino","ST":"Sao Tome and Principe","SA":"Saudi Arabia","SN":"Senegal","RS":"Serbia","CS":"Serbia and Montenegro","SC":"Seychelles","SL":"Sierra Leone","SG":"Singapore","SX":"Sint Maarten","SK":"Slovakia","SI":"Slovenia","SB":"Solomon Islands","SO":"Somalia","ZA":"South Africa","GS":"South Georgia and the South Sandwich Islands","SS":"South Sudan","ES":"Spain","LK":"Sri Lanka","SD":"Sudan","SR":"Suriname","SJ":"Svalbard and Jan Mayen","SZ":"Swaziland","SE":"Sweden","CH":"Switzerland","SY":"Syrian Arab Republic","TW":"Taiwan, Province of China","TJ":"Tajikistan","TZ":"Tanzania, United Republic of","TH":"Thailand","TL":"Timor-Leste","TG":"Togo","TK":"Tokelau","TO":"Tonga","TT":"Trinidad and Tobago","TN":"Tunisia","TR":"Turkey","TM":"Turkmenistan","TC":"Turks and Caicos Islands","TV":"Tuvalu","UG":"Uganda","UA":"Ukraine","AE":"United Arab Emirates","GB":"United Kingdom","US":"United States","UM":"United States Minor Outlying Islands","UY":"Uruguay","UZ":"Uzbekistan","VU":"Vanuatu","VE":"Venezuela","VN":"Viet Nam","VG":"Virgin Islands, British","VI":"Virgin Islands, U.s.","WF":"Wallis and Futuna","EH":"Western Sahara","YE":"Yemen","ZM":"Zambia","ZW":"Zimbabwe"}')},1362:function(e,t,n){var content=n(1385);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(112).default)("1dbd0d3a",content,!0,{sourceMap:!1})},1384:function(e,t,n){"use strict";n(1362)},1385:function(e,t,n){var r=n(111)(!1);r.push([e.i,".ant-upload-select-picture-card i{font-size:32px;color:#999}.ant-upload-select-picture-card .ant-upload-text{margin-top:8px;color:#666}.no-bottom-margin{margin-bottom:0}",""]),e.exports=r},1393:function(e,t,n){"use strict";n.r(t);var r=n(23),o=(n(69),n(37),n(113),n(1338)),l=n(31),c="details",d="coordinates";function m(e){return new Promise((function(t,n){var r=new FileReader;r.readAsDataURL(e),r.onload=function(){return t(r.result)},r.onerror=function(e){return n(e)}}))}var y={props:{visible:Boolean,submission:Object},mounted:function(){this.$auth.loggedIn||this.tabs.push("personal_information"),null!=this.submission&&this.fetchSubmissionDetails(this.submission.id)},data:function(){var e=this;return{tabs:[c,d,"images"],activeTab:0,labelCol:{span:12},wrapperCol:{span:12},previewVisible:!1,previewImage:"",fileList:[],libraryFetchByIdState:l.b.EMPTY,savingSubmission:!1,countries:o,library:{name:"",country:"",type:"public",otherLibraryType:null,streetAddress:null,communityOrTown:null,contactName:null,contactEmail:null,coordinates:null},formRules:{name:[{required:!0,message:"Please input name of library"}],country:[{required:!0,message:"Please select a country"}],type:[{required:!0,message:"Please select a library type"}],otherLibraryType:[{validator:function(t,n,r){"other"==e.library.type&&(null==n||""==n)?r(new Error("Please input other library type")):r()},trigger:"blur"}],streetAddress:[{required:!0,message:"Please input street address"}],communityOrTown:[{required:!0,message:"Please input community or town of library"}],contactName:[{required:!0,message:"Please input name of library contact"}],contactEmail:[{required:!0,message:"Please input email of library contact"}]}}},computed:{isOtherLibraryType:function(){return"other"==this.library.type},primaryButtonLabel:function(){return this.activeTab!=this.tabs.length-1?this.$t("next"):this.$t("save")},width:function(){switch(this.$i18n.locale){case"fr":return 840;case"pt":return 1024;default:return 640}}},methods:{updateLibraryCountry:function(e){this.library.country=e},updateSelectedLibraryType:function(e){this.library.type=e},updateActiveTab:function(e){this.activeTab=e},clearCoordinates:function(e){e.preventDefault(),this.library.coordinates=null},close:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.activeTab=0,this.$emit("onClose",e)},handleNextOrSave:function(e){var t=this;this.activeTab<this.tabs.length-1?this.tabs[this.activeTab]==c?this.$refs.libraryForm.validate((function(e){if(!e)return!1;t.activeTab=+t.activeTab+1})):this.tabs[this.activeTab]==d&&null==this.library.coordinates?this.$message.error("Please set coordinates of library by clicking on map"):this.activeTab=+this.activeTab+1:this.submitLibraryInfo()},handlePreview:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.url||e.preview){n.next=4;break}return n.next=3,m(e.originFileObj);case 3:e.preview=n.sent;case 4:t.previewImage=e.url||e.preview,t.previewVisible=!0;case 6:case"end":return n.stop()}}),n)})))()},handleImageChange:function(e){var t=e.fileList;this.fileList=t},setMapCoordinates:function(e){this.library.coordinates={latitude:e.latlng.lat,longitude:e.latlng.lng}},fetchSubmissionDetails:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t.libraryFetchByIdState=l.b.LOADING,n.next=4,t.$axios.$get("/api/submissions/".concat(e));case 4:t.library=n.sent,t.libraryFetchByIdState=l.b.SUCCESSFUL,n.next=13;break;case 8:n.prev=8,n.t0=n.catch(0),t.libraryFetchByIdState=l.b.FAILED,r="open".concat(Date.now()),t.$notification.error({key:r,message:"Error getting submission details",description:n.t0.toString()});case 13:case"end":return n.stop()}}),n,null,[[0,8]])})))()},submitLibraryInfo:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e.savingSubmission=!0,null!=e.submission){t.next=7;break}return t.next=5,e.$axios.$post("/api/submissions",e.library);case 5:t.next=9;break;case 7:return t.next=9,e.$axios.$patch("/api/submissions/".concat(e.submission.id),e.library);case 9:e.savingSubmission=!1,n="open".concat(Date.now()),e.$notification.success({key:n,message:"Success",description:"Library data submitted successfully"}),e.close(!0),t.next=20;break;case 15:t.prev=15,t.t0=t.catch(0),e.savingSubmission=!1,r="open".concat(Date.now()),e.$notification.error({key:r,message:"Error submitting library info",description:t.t0.toString()});case 20:case"end":return t.stop()}}),t,null,[[0,15]])})))()}}},h=(n(1384),n(68)),component=Object(h.a)(y,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{visible:e.visible,title:e.$t("submit_info"),closable:!1,width:e.width,bodyStyle:{padding:"0 12px"},"dialog-style":{top:"20px"}}},[e.libraryFetchByIdState==e.RS_LOADING?n("div",{staticStyle:{"text-align":"center",padding:"16px"}},[n("a-spin",{attrs:{tip:"Retrieving library data"}},[n("a-icon",{staticStyle:{"font-size":"56px"},attrs:{slot:"indicator",type:"loading",spin:""},slot:"indicator"})],1)],1):e._e(),e._v(" "),e.libraryFetchByIdState==e.RS_EMPTY||e.libraryFetchByIdState==e.RS_SUCCESSFUL?n("a-tabs",{attrs:{size:"small","tab-position":"right","active-key":e.activeTab},on:{change:e.updateActiveTab}},[n("a-tab-pane",{key:e.tabs.indexOf("details"),attrs:{tab:e.$t("details")}},[n("div",{staticStyle:{"padding-top":"24px"}},[n("a-form-model",{ref:"libraryForm",attrs:{layout:"horizontal","label-align":"left",model:e.library,rules:e.formRules,"label-col":e.labelCol,"wrapper-col":e.wrapperCol}},[n("a-form-model-item",{attrs:{label:e.$t("name_of_library"),prop:"name"}},[n("a-input",{attrs:{placeholder:""},model:{value:e.library.name,callback:function(t){e.$set(e.library,"name",t)},expression:"library.name"}})],1),e._v(" "),n("a-form-model-item",{attrs:{label:e.$t("country"),prop:"country"}},[n("a-select",{attrs:{placeholder:"Select a country"},model:{value:e.library.country,callback:function(t){e.$set(e.library,"country",t)},expression:"library.country"}},e._l(e.countries,(function(t,r){return n("a-select-option",{key:r,attrs:{value:r}},[e._v("\n                "+e._s(t)+"\n              ")])})),1)],1),e._v(" "),n("a-form-model-item",{attrs:{label:e.$t("type_of_library"),prop:"type"}},[n("a-select",{attrs:{placeholder:"Select a library type"},model:{value:e.library.type,callback:function(t){e.$set(e.library,"type",t)},expression:"library.type"}},[n("a-select-option",{attrs:{value:"public"}},[e._v(" Public ")]),e._v(" "),n("a-select-option",{attrs:{value:"academic"}},[e._v(" Academic ")]),e._v(" "),n("a-select-option",{attrs:{value:"community"}},[e._v(" Community ")]),e._v(" "),n("a-select-option",{attrs:{value:"national"}},[e._v(" National ")]),e._v(" "),n("a-select-option",{attrs:{value:"other"}},[e._v(" Other ")])],1)],1),e._v(" "),n("a-form-model-item",{directives:[{name:"show",rawName:"v-show",value:e.isOtherLibraryType,expression:"isOtherLibraryType"}],attrs:{label:e.$t("other_library_type"),prop:"otherLibraryType"}},[n("a-input",{attrs:{placeholder:""},model:{value:e.library.otherLibraryType,callback:function(t){e.$set(e.library,"otherLibraryType",t)},expression:"library.otherLibraryType"}})],1),e._v(" "),n("a-form-model-item",{attrs:{label:e.$t("street_address"),prop:"streetAddress"}},[n("a-input",{attrs:{placeholder:""},model:{value:e.library.streetAddress,callback:function(t){e.$set(e.library,"streetAddress",t)},expression:"library.streetAddress"}})],1),e._v(" "),n("a-form-model-item",{attrs:{label:e.$t("name_of_community_or_town"),prop:"communityOrTown"}},[n("a-input",{attrs:{placeholder:""},model:{value:e.library.communityOrTown,callback:function(t){e.$set(e.library,"communityOrTown",t)},expression:"library.communityOrTown"}})],1),e._v(" "),n("a-form-model-item",{attrs:{label:e.$t("library_contact_name"),prop:"contactName"}},[n("a-input",{attrs:{placeholder:""},model:{value:e.library.contactName,callback:function(t){e.$set(e.library,"contactName",t)},expression:"library.contactName"}})],1),e._v(" "),n("a-form-model-item",{attrs:{label:e.$t("email_address_of_library_contact"),prop:"contactEmail"}},[n("a-input",{attrs:{placeholder:""},model:{value:e.library.contactEmail,callback:function(t){e.$set(e.library,"contactEmail",t)},expression:"library.contactEmail"}})],1)],1)],1)]),e._v(" "),n("a-tab-pane",{key:e.tabs.indexOf("coordinates"),attrs:{tab:e.$t("coordinates")}},[n("div",{staticStyle:{"min-height":"440px","padding-top":"24px"}},[n("div",[e._v("\n          Click any where on the map to set the coordinates of the library\n        ")]),e._v(" "),n("h3",[n("span",[e._v(e._s(e.$t("coordinates"))+":")]),e._v(" "),null==e.library.coordinates?n("a-tag",{attrs:{color:"red"}},[e._v("\n            Not set\n          ")]):n("a-tag",{attrs:{color:"#1890ff",closable:""},on:{close:e.clearCoordinates}},[e._v("\n            Lat:\n            "),n("span",[e._v(e._s(e.library.coordinates.latitude))]),e._v(", Long:\n            "),n("span",[e._v(e._s(e.library.coordinates.longitude))])])],1),e._v(" "),n("client-only",[n("l-map",{ref:"coordMap",staticStyle:{height:"100%","min-height":"340px"},on:{click:e.setMapCoordinates}},[n("l-tile-layer",{attrs:{name:"Satellite",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png","layer-type":"base"}}),e._v(" "),null!=e.library.coordinates?n("l-marker",{attrs:{"lat-lng":[e.library.coordinates.latitude,e.library.coordinates.longitude]}}):e._e()],1)],1)],1)]),e._v(" "),n("a-tab-pane",{key:e.tabs.indexOf("images"),attrs:{tab:e.$t("images")}},[n("div",{staticStyle:{"padding-top":"24px"}},[n("p",[e._v(e._s(e.$t("attach_library_photo")))]),e._v(" "),n("div",{staticClass:"clearfix"},[n("a-upload",{attrs:{action:"https://www.mocky.io/v2/5cc8019d300000980a055e76","list-type":"picture-card","file-list":e.fileList},on:{preview:e.handlePreview,change:e.handleImageChange}},[e.fileList.length<8?n("div",[n("a-icon",{attrs:{type:"plus"}}),e._v(" "),n("div",{staticClass:"ant-upload-text"},[e._v("Upload")])],1):e._e()])],1)])]),e._v(" "),this.$auth.loggedIn?e._e():n("a-tab-pane",{key:e.tabs.indexOf("personal_information"),attrs:{tab:e.$t("personal_information")}},[n("div",{staticStyle:{"padding-top":"24px"}})])],1):e._e(),e._v(" "),n("template",{slot:"footer"},[n("a-button",{key:"back",on:{click:e.close}},[e._v(" "+e._s(e.$t("cancel"))+" ")]),e._v(" "),n("a-button",{key:"submit",attrs:{type:"primary",loading:e.savingSubmission},on:{click:e.handleNextOrSave}},[e._v("\n      "+e._s(e.primaryButtonLabel)+"\n    ")])],1)],2)}),[],!1,null,null,null);t.default=component.exports},1457:function(e,t,n){var content=n(1495);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(112).default)("d132df5e",content,!0,{sourceMap:!1})},1492:function(e,t,n){e.exports=n.p+"img/library.3eb7333.svg"},1493:function(e,t,n){"use strict";var r=n(13),o=n(114).findIndex,l=n(234),c="findIndex",d=!0;c in[]&&Array(1).findIndex((function(){d=!1})),r({target:"Array",proto:!0,forced:d},{findIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),l(c)},1494:function(e,t,n){"use strict";n(1457)},1495:function(e,t,n){var r=n(111)(!1);r.push([e.i,"#layout-content-container[data-v-17be89d7]{padding:12px}#submission-list[data-v-17be89d7]{overflow:auto;background:#cad9e7;padding:16px;-ms-overflow-style:none;scrollbar-width:none}#submission-list[data-v-17be89d7]::-webkit-scrollbar{display:none}#empty-state-container[data-v-17be89d7]{height:100%;text-align:center;align-items:center}.submission-card-item[data-v-17be89d7]{margin-bottom:8px}",""]),e.exports=r},1513:function(e,t,n){"use strict";n.r(t);var r=n(23),o=(n(69),n(37),n(113),n(1493),n(235),n(1393)),l=[{title:"ID",dataIndex:"id",key:"id",width:100,ellipsis:!0,scopedSlots:{customRender:"id"}},{title:"Name",dataIndex:"name",key:"name",scopedSlots:{customRender:"name"}},{title:"Status",dataIndex:"status",key:"status",ellipsis:!0,width:190,scopedSlots:{customRender:"status"}},{title:"Date Submitted",dataIndex:"createdAt",key:"createdAt",scopedSlots:{customRender:"createdAt"},ellipsis:!0},{title:"Last edited",dataIndex:"updatedAt",key:"updatedAt",ellipsis:!0,scopedSlots:{customRender:"updatedAt"}},{title:"Actions",key:"actions",scopedSlots:{customRender:"actions"},ellipsis:!0}],c={layout:"app",components:{"library-form-modal":o.default},mounted:function(){this.fetchSubmissions(),this.updateTableHeight()},data:function(){return{submissionToEdit:null,idOfLibraryBeingDeleted:null,addLibraryModalVisible:!1,activeSubmission:null,submissions:[],pagination:{},loadingSubmissions:!1,columns:l,scroll:{y:420}}},methods:{getSubmissionStatusColour:function(e){switch(e){case"PENDING_REVIEW":return"#108ee9";case"APPROVED":return"#87d068";case"REJECTED":return"#f50";case"PENDING_FURTHER_INFO":return"#2db7f5";default:return null}},clipboardSuccessHandler:function(e){e.value,e.event;this.$message.info("Submission ID copied to clipboard")},newSubmission:function(){this.setLibraryFormModalVisible(!0)},editSubmission:function(e){this.submissionToEdit=e,this.setLibraryFormModalVisible(!0)},setLibraryFormModalVisible:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.addLibraryModalVisible=e,e||(this.submissionToEdit=null),t&&this.fetchSubmissions()},fetchSubmissions:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loadingSubmissions=!0,t.prev=1,t.next=4,e.$axios.$get("http://localhost:8000/api/submissions",{progress:!0});case 4:e.submissions=t.sent,e.loadingSubmissions=!1,t.next=14;break;case 8:t.prev=8,t.t0=t.catch(1),e.loadingSubmissions=!1,e.submissions=[],n="open".concat(Date.now()),e.$notification.error({key:n,message:"Error retrieving submissions",description:t.t0.toString()});case 14:case"end":return t.stop()}}),t,null,[[1,8]])})))()},deleteSubmission:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t.idOfLibraryBeingDeleted=e,n.next=4,t.$axios.$delete("/api/submissions/".concat(e));case 4:t.idOfLibraryBeingDeleted=null,(r=t.submissions.findIndex((function(t){return t.id==e})))>=0&&t.submissions.splice(r,1),n.next=14;break;case 9:n.prev=9,n.t0=n.catch(0),t.idOfLibraryBeingDeleted=null,o="open".concat(Date.now()),t.$notification.error({key:o,message:"Error deleting submission",description:n.t0.toString()});case 14:case"end":return n.stop()}}),n,null,[[0,9]])})))()},updateTableHeight:function(){this.scroll.y=this.$refs.centerStage.$el.clientHeight-268}}},d=(n(1494),n(68)),component=Object(d.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("a-layout",{ref:"centerStage",staticStyle:{height:"100%"}},[e.submissions.length>0?r("a-layout-content",{attrs:{id:"layout-content-container",height:"100%"}},[r("a-card",{staticStyle:{height:"100%"}},[r("a-row",{staticStyle:{"margin-bottom":"24px"},attrs:{type:"flex",gutter:24}},[r("a-col",[r("h2",{staticStyle:{"margin-bottom":"0px"}},[e._v(e._s(e.$t("my_submissions")))])]),e._v(" "),r("a-col",{attrs:{flex:16}}),e._v(" "),r("a-col",{attrs:{flex:2}},[r("a-button",{attrs:{type:"primary",icon:"plus",block:""},on:{click:e.newSubmission}},[e._v("\n            "+e._s(e.$t("submit_info"))+"\n          ")])],1)],1),e._v(" "),r("a-table",{attrs:{columns:e.columns,"data-source":e.submissions,loading:e.loadingSubmissions,scroll:e.scroll,bordered:""},scopedSlots:e._u([{key:"id",fn:function(text){return r("a",{directives:[{name:"clipboard",rawName:"v-clipboard",value:text,expression:"text"},{name:"clipboard",rawName:"v-clipboard:success",value:e.clipboardSuccessHandler,expression:"clipboardSuccessHandler",arg:"success"}]},[e._v(e._s(text))])}},{key:"name",fn:function(text){return r("span",{staticStyle:{"font-weight":"500"}},[e._v(e._s(text))])}},{key:"status",fn:function(text){return r("span",{},[r("a-tag",{staticStyle:{"font-weight":"500","letter-spacing":"1.5px"},attrs:{color:e.getSubmissionStatusColour(text)}},[e._v("\n            "+e._s(e._f("toTitleCase")(e._f("withoutUnderscores")(text))))])],1)}},{key:"createdAt",fn:function(text){return r("span",{},[e._v(e._s(e._f("toShortDateTime")(text)))])}},{key:"updatedAt",fn:function(text){return r("span",{},[e._v(e._s(e._f("toShortDateTime")(text)))])}},{key:"actions",fn:function(sub){return r("div",{},["PENDING_REVIEW"==sub.status||"PENDING_FURTHER_INFO"==sub.status?r("a-button",{attrs:{shape:"circle",icon:"edit"},on:{click:function(t){return e.editSubmission(sub)}}}):e._e(),e._v(" "),"PENDING_REVIEW"==sub.status?r("a-popconfirm",{attrs:{title:"Are you sure you want to delete this submission?","ok-text":"Yes","cancel-text":"No",placement:"bottomLeft"},on:{confirm:function(t){return e.deleteSubmission(sub.id)}}},[r("a-button",{attrs:{shape:"circle",icon:"delete",loading:sub.id==e.idOfLibraryBeingDeleted}})],1):e._e()],1)}}],null,!1,829989787)})],1)],1):r("a-layout-content",{attrs:{height:"100%"}},[r("a-row",{attrs:{id:"empty-state-container",type:"flex",justify:"center",align:"middle"}},[r("a-col",[r("img",{attrs:{src:n(1492),alt:"",height:"160px"}}),e._v(" "),r("h2",{staticStyle:{"padding-top":"18px","padding-bottom":"18px","font-weight":"normal"}},[e._v("\n          You haven't submitted any library data yet."),r("br"),e._v("\n          Use the button below to submit information on a library.\n        ")]),e._v(" "),r("a-button",{attrs:{type:"primary",icon:"plus",size:"large"},on:{click:e.newSubmission}},[e._v("\n          Add Library Info\n        ")])],1)],1)],1),e._v(" "),e.addLibraryModalVisible?r("library-form-modal",{attrs:{submission:e.submissionToEdit,visible:e.addLibraryModalVisible},on:{onClose:function(t){return e.setLibraryFormModalVisible(!1,e.$data)}}}):e._e()],1)}),[],!1,null,"17be89d7",null);t.default=component.exports}}]);